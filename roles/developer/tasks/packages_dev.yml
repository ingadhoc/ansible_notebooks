---
- name: Paquetes Dev | Instalar herramientas de terminal y editores
  tags: packages_dev
  become: true
  ansible.builtin.apt:
    name: "{{ dev_packages_base }}"
    state: present

- name: Yakuake | Configurar la terminal desplegable para el usuario
  tags: yakuake
  become: true
  become_user: "{{ remote_regular_user }}"
  block:
    - name: Yakuake | Copiar archivo de configuraci칩n principal
      ansible.builtin.copy:
        src: yakuakerc
        dest: "~/.config/yakuakerc"
        owner: "{{ remote_regular_user }}"
        group: "{{ remote_regular_user }}"
        mode: "0644" # Permiso est치ndar y seguro para archivos

    - name: Yakuake | Asegurar que el directorio de perfiles de konsole existe
      ansible.builtin.file:
        path: "~/.local/share/konsole"
        state: directory
        owner: "{{ remote_regular_user }}"
        group: "{{ remote_regular_user }}"
        mode: "0755" # Permiso est치ndar y seguro para directorios

    - name: Yakuake | Copiar el perfil de la terminal
      ansible.builtin.copy:
        src: Profile_1.profile
        dest: "~/.local/share/konsole/Profile_1.profile"
        owner: "{{ remote_regular_user }}"
        group: "{{ remote_regular_user }}"
        mode: "0644" # Permiso est치ndar y seguro para archivos
