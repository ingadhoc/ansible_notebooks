---
- name: Odoo Dev | Preparar entorno de desarrollo local de Odoo
  tags: remote_dev
  block:
    - name: Odoo Dev | Crear directorio base 'odoo'
      ansible.builtin.file:
        path: "{{ devs_odoo_base_path }}"
        state: directory
        mode: '0755'

    - name: Odoo Dev | Clonar repositorio docker-compose-context a 'ctx'
      ansible.builtin.git:
        repo: "{{ devs_odoo_ctx_repo }}"
        dest: "{{ devs_odoo_base_path }}/ctx"
        version: main

    - name: Odoo Dev | Clonar repositorio docker-compose-odoo a '18'
      ansible.builtin.git:
        repo: "{{ devs_odoo_main_repo }}"
        dest: "{{ devs_odoo_base_path }}/18"
        version: main
